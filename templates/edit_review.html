{% extends "base.html" %}

{% block title %}Edit Review - {{ movie.name }}{% endblock %}

{% block content %}
<div class="container mt-4">
  <h2 class="mb-3">Edit Review for <strong>{{ movie.name }}</strong></h2>
  <p class="text-muted">Reviewer: {{ user.name }}</p>

  {# Review edit form - prefilled with existing data #}
  <form method="POST">
    <div class="form-group mb-3">
      <label for="review_text">Your Comment</label>
      <textarea name="review_text" id="review_text" rows="4" class="form-control" required>
        {{ review.review_text }}
      </textarea>
    </div>

    <div class="form-group mb-3">
      <label for="rating">Rating (0â€“10)</label>
      <input type="number" name="rating" step="0.1" min="0" max="10" value="{{ review.rating or '' }}" class="form-control">
    </div>

    {# Buttons to submit or cancel the edit #}
    <button type="submit" class="btn btn-primary">Update Review</button>
    <a href="{{ url_for('review.view_reviews', movie_id=movie.id) }}" class="btn btn-secondary ms-2">
      Cancel
    </a>
  </form>
</div>
{% endblock %}